---
title: 什么是区块链 - 比特币白皮书解读（3）
show_author_profile: true
tags: Web3
key: web3-2
---

2008年，中本聪发表了白皮书《Bitcoin: A peer to peer electronic cash system》，正式标志着区块链技术的问世。

这篇论文虽然只有9页，但是含金量满满，也是我近几年读的最艰深也最过瘾的论文了，趁这次机会和读者重读这篇论文，我们一起来了解中本聪设计比特币的初衷，和系统背后的原理

有意思的是，至今为止，中本聪的身份还是个谜，又或许中本聪只是一个团队的代号。但有一点毋庸置疑，正是因为中本聪的这篇创世论文，才使得区块链技术应用真正得以实现，从这一点上来说，中本聪值得一个诺贝尔奖经济学奖。

<!--more-->

## 1.简介

在论文的简介中，中本聪提到，传统的线上交易必须依赖可信任第三方中介系统，为交易风险做担保。另外，由于商家和顾客存在各种纠纷，交易是做不到不可撤销的，比如商家经常会因为顾客的投诉而不得不退款，而商家为了加深对客户的信任，就只能要求他们提供更多的个人信息，来防止欺诈。

而在所有交易形式中，只有现金具有不可逆性，所以有些商家为了保护自己会采取现金交易的方式，这也是为什么比特币是一种电子现金系统，而不只是电子货币。

中本聪认为，我们应该建立一个电子支付系统，完全通过密码学和算法的方式来解决信任问题，任何人都可以在不需要第三方机构的情况下进行交易。既然是去中心化的系统，每个节点都可以验证交易，只要诚实节点的算力总和大于攻击节点的算力，那么这个系统就是安全的。

同时，比特币系统还可以解决双花问题（Double Spending）。双花问题简单来说就是一笔钱支付给了多个人，这在现金交易中是不存在的，因为同一笔现金，不可能同时给多个人，但在电子支付中，交易金额只是数字，可以同时转给多个人。比特币系统可以通过工作量证明、广播等机制来解决双花问题。


总结下来，比特币系统有3个主要特点：

1. 用密码学代替信用
2. 去中心化的点对点支付，无需第三方机构，提高效率
3. 不可逆

## 2. 交易

在这一章节里，中本聪介绍了比特币系统中的交易和记账体系概念。

“我们定义一枚电子货币就是一条数字签名链。每个拥有者都通过将上一次交易和下一个拥有者的公钥的哈希值的数字签名添加到此货币末尾的方式将这枚货币转移给下一个拥有者。收款人可以通过验证数字签名来证实其为该链的所有者。”

![交易体系](https://github.com/darcy-fzh/darcy-fzh.github.io/raw/master/screenshots/交易体系.png)

如图示，交易1会加上所有者2的公钥一同进行哈希，同时，所有者1会用自己的私钥来进行数字签名，其他人可以用所有者1发布的公钥进行快速验证。

比特币的记账体系和我们熟知的银行交易体系是完全不同的。在银行系统中，一个账户会包含很多交易，账户的余额等于收入减去支出，当A转给B100块，A的账户会减少100，B的账户会增加100。而比特币系统采用的是UTXO模型，全称Unspending Transaction Outoput，也叫未花费交易支出，每笔交易都会记录上一笔交易的哈希值，收款方和付款方侧信息，交易金额。

以下图比特币交易为例，在交易2中，Alice要转给Bob17个比特币，按照比特币系统的逻辑，Alice首先要把所有的25个比特币全部交易出去，其中17个转给了Bob，剩余的8个比特币转给了Alice自己的账户，交易成功后，Bob拥有了Alice在交易1中所转的17个比特币。当Bob在交易3中给Charlie8个比特币，节点就可以根据Bob的上一笔交易来验证Bob是否真的有8个比特币。UTXO模型的好处在于，当系统的交易量很大的时候，节点不需要统计账户所有历史的交易来验证该账户的余额，大大提高了节点验证交易的效率和速度。

![UTXO](https://github.com/darcy-fzh/darcy-fzh.github.io/raw/master/screenshots/UTXO.png)


